using System;
using System.Collections.Generic;
using System.Diagnostics;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace ClasseRequisicaoPOO
{
    internal class Program
    {
       public static void LetraCor()
        {
            Console.ForegroundColor = ConsoleColor.Blue;
        }

        public static void LetraCor1()
        {
            Console.ForegroundColor = ConsoleColor.Cyan;
        }

        public static void CancelarCor()
        {
            Console.ResetColor();
        }

        public static void ListaDeOpcoes()
        {
            Console.WriteLine();
            Console.WriteLine("°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°");
            LetraCor();
            Console.WriteLine("(1) Alocar Cliente ");
            Console.WriteLine("(2) Liberar Mesa ");
            Console.WriteLine("(3) Liste ocupação da mesa");
            Console.WriteLine("(4) Olhar fila de espera ");
            Console.WriteLine("(5) Sair");
            CancelarCor();
            Console.WriteLine();
        }

        //public static bool ContemLetra()
        //{
        //    bool contemLetra = int.TryParse(letra, out numero);

        //    if (contemLetra == true)
        //    {
        //        Console.WriteLine("Não Contem Letra");
        //    }
        //    else
        //    {
        //        Console.WriteLine("Contem Letra");
        //    }
        //}

        public static bool ContemNumero(string letra)
        {
            int i = 0;
            bool contemNumero = false;

            while (i < letra.Length)
            {
                if (char.IsDigit(letra[i]) == true)
                {
                    contemNumero = true;
                    break;
                }
                i++;
            }

            return contemNumero;
        }

        public static string InformeNome()
        {
            string nome = "";

            while (nome.Length < 3 || ContemNumero(nome) == true)
            {
                Console.Write("Informe o nome: ");
                nome = Console.ReadLine();
                nome.Trim();
                Console.WriteLine();
            }

            return nome;
        }

        public static int InformeQuantidadeDePessoa()
        {
            int quantPessoa = -1;

            while (quantPessoa <= 0)
            {
                Console.Write("Informe a quantidade de pessoas : ");
                quantPessoa = int.Parse(Console.ReadLine());
                Console.WriteLine();
            }

            return quantPessoa;
        }

        public static void Bebida()
        {
            Console.WriteLine();
            Console.WriteLine("°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°");
            LetraCor1();
            Console.WriteLine("(1) Água – R$ 3 ");
            Console.WriteLine("(2) Copo de suco – R$ 7 ");
            Console.WriteLine("(3) Refrigerante orgânico – R$ 7 ");
            Console.WriteLine("(4) Cerveja vegana – R$ 9 ");
            Console.WriteLine("(5) Taça de vinho vegano – R$ 18 ");
            Console.WriteLine("(0) Nenhuma Bebida");
            CancelarCor();
            Console.WriteLine();
        }

        public static void Comida()
        {
            Console.WriteLine();
            Console.WriteLine("°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°°");
            LetraCor1();
            Console.WriteLine("(1) Moqueca de Palmito – R$ 32 ");
            Console.WriteLine("(2) Falafel Assado – R$ 20 ");
            Console.WriteLine("(3) Salada Primavera com Macarrão Konjac – R$ 25 ");
            Console.WriteLine("(4) Escondidinho de Inhame – R$ 18 ");
            Console.WriteLine("(5) Strogonoff de Cogumelos – R$ 35 ");
            Console.WriteLine("(6) Caçarola de legumes – R$ 22 ");
            Console.WriteLine("(0) Nenhuma Comida");
            CancelarCor();
            Console.WriteLine();
        }

        static void Main(string[] args)
        {
            Restaurante restaurante = new Restaurante();
            int id = 1;
            int opcao = 1;

            while (opcao != 5)
            {
                ListaDeOpcoes();
                Console.Write("Ler opção: ");
                opcao = int.Parse(Console.ReadLine());
                Console.WriteLine();
                 
                switch (opcao)
                {
                    case 1:

                        string nome = InformeNome();
                        int quantPessoa = InformeQuantidadeDePessoa();
                        Bebida();
                        Comida();
                        Requisicao r = new Requisicao(restaurante, nome, id, quantPessoa);
                        id++;
                        r.entrada();
                        Console.WriteLine();
                        break;

                    case 2:

                        Console.WriteLine(restaurante.mostrarSituacaoRestaurante());
                        Console.WriteLine("Escolha o número da mesa que deseja libera-la");
                        int numeroDamesa = int.Parse(Console.ReadLine());
                        int idChave = 0;

                        for (int i = 0; i < restaurante.listaDeMesa.Count; i++)
                        {
                            if (restaurante.listaDeMesa[i].verificarNumeroMesa() == numeroDamesa)
                            {
                                idChave = restaurante.listaDeMesa[i].getIdCliente();
                                break;
                            }
                        }
                        for (int i = 0; i < restaurante.listaRequisicao.Count; i++)
                        {
                            if (restaurante.listaRequisicao[i].getId() == idChave)
                            {
                                restaurante.requisicaoSaida(restaurante.listaRequisicao[i]);
                                break;
                            }
                        }
                        Console.WriteLine();
                        break;

                    case 3:

                        Console.WriteLine(restaurante.mostrarSituacaoRestaurante());
                        Console.WriteLine();

                        break;

                    case 4:

                        Console.WriteLine(restaurante.mostrarFila());
                        Console.WriteLine();
                        break;

                    case 5:

                        Console.WriteLine("° Obrigado ");
                        break;

                    default:

                        Console.WriteLine("    Opção Inválida");
                        Console.WriteLine();
                        break;
                }
            }

            Console.ReadLine();
        }
    }
}
